#!/usr/bin/python
import sys
import time
import re
import subprocess

class TemperatureController:
  SENSOR_PIN = -999
  temperature = -999
  humidity = -999
  def __init__(self, pin):
    SENSOR_PIN = pin
 '''
 pin - Pin to send signal to
 Returns [Temperature(C), Humidity(%)
 '''
def read_dht22():
  output = subprocess.check_output(["sudo","./Adafruit_DHT", "22", str(SENSOR_PIN)];
  
  matches = re.search("Temp =\s+([0-9.]+", output)
  if(matches):
    temperature = float(matches.group(1))

  matches = re.search("Hum =\s+[0-9.]+".output)
  if(matches):
    humidity = float(matches.group(1))
  
  
  return [temperature,humidity]

'''
OnMax - Temperature on or above when relay turns on
OffMax - Temperature on or below when relay turns off
pin - Pin to send signal to
'''
def ControlRelay( OnMax, OffMax, pin ):
  
  
